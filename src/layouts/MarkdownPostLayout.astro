---
/**
 * A layout for rendering posts written in Markdown or MDX (so... all of them
 * right now).
 */
import BaseLayout from "./BaseLayout.astro";
import Article from "@components/Article.astro";
import ArticleTitle from "@components/ArticleTitle.astro";
import ImageGrid from "@components/ImageGrid.astro";
import type { CollectionEntry } from "astro:content";
interface Props {
    data: CollectionEntry<"posts">["data"];
}
const { data } = Astro.props;
---

<BaseLayout pageTitle={data.title} fullWidth={data.fullWidth}>
    <ArticleTitle
        title={data.title}
        pubDate={data.pubDate}
        posted={true}
        tags={data.tags}
    />
    {
        data.gallery && (
            <div class="py-4 border-b border-default-outline shadow-alt-background ">
                <ImageGrid
                    images={data.gallery.map(({ image, alt, caption }) => [
                        image,
                        alt,
                        caption,
                    ])}
                    caption={undefined}
                    clickable={true}
                    captionMode="hover"
                    rows="grid-rows-2"
                    cols="grid-cols-3"
                />
            </div>
        )
    }
    <Article>
        <slot />
    </Article>
</BaseLayout>
