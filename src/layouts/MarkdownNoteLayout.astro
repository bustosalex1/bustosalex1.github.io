---
import NoteMenu from "@components/NoteMenu.svelte";
import BaseLayout from "@layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import Article from "@components/Article.astro";
import ArticleTitle from "@components/ArticleTitle.astro";
const { data } = Astro.props;

const notes = (await getCollection("notes")).filter((note) => !note.data.draft);
---

<BaseLayout pageTitle={data.title}>
    <NoteMenu notes={notes} client:load />
    <Article>
        <ArticleTitle
            title={data.title}
            pubDate={data.pubDate}
            posted={false}
            cls={data.class}
        />
        <slot />
    </Article>
</BaseLayout>
