---
import Tag from "./Tag.astro";
import FormattedDate from "./FormattedDate.astro";
import Image from "astro/components/Image.astro";
import type { CollectionEntry } from "astro:content";
interface Props {
    data: CollectionEntry<"posts">["data"];
}

const { data }: Props = Astro.props;
---

    {
        data.useImage && (
            <div class="relative w-full overflow-hidden">
                <Image
                    src={data.image}
                    alt={data.imageAlt}
                    class="object-cover w-full h-full"
                />
        <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent" />
        <div class="absolute bottom-0 p-5 text-white flex flex-col items-center w-full gap-3">
            <h1 class="text-2xl md:text-5xl text-center font-crimson italic">
                {data.title}
            </h1>
            <p class="text-sm font-mono">{data.description}</p>
            <div class="flex flex-row items-center w-full justify-center">
                <!--list of tags-->
                {
                    data.tags && (
                        <div class="flex gap-2 flex-row flex-nowrap items-center border-line border-dashed overflow-x-auto">
                            {data.tags.map((tag) => (
                                <Tag tag={tag} />
                            ))}
                        </div>
                    )
                }
                <div class="px-2">
                    <FormattedDate date={data.pubDate} posted={true} />
                </div>
            </div>
        </div>
            </div>
        )
    }
