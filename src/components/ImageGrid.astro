---
import { Image } from "astro:assets";
import ClickableImage from "./ClickableImage.svelte";

type ImageTuple = [ImageMetadata, string];

interface Props {
    images: ImageTuple[];
    caption: string | undefined;
    clickable: boolean | undefined;
    rows: string;
    cols: string;
}

const { images, caption, clickable, rows, cols } = Astro.props;
---

<div class={`grid ${cols} ${rows} gap-2`}>
    {
        images.map(([src, alt]) =>
            clickable ? (
                <ClickableImage caption={undefined} client:load>
                    <Image src={src} alt={alt} />
                </ClickableImage>
            ) : (
                <Image src={src} alt={alt} />
            )
        )
    }
</div>
{caption && <em class="flex justify-center">{caption}</em>}
